{"config": {"indexing": "full", "lang": ["en"], "min_search_length": 3, "prebuild_index": false, "separator": "[\\s\\-]+"}, "docs": [{"location": "", "text": "Hello! My name is Milan Hronsk\u00fd I am an electrical engineer researching the propagation of stochastic signals through linear systems. I am working on a better integration of renewable energy in the grid. A common problem of renewable energy is its intermittency . The share of fossile and nuclear energy in the grid will remain high, unless the renewable power is stable. My goal is to smooth the time course of renewable power on a low aggregation level by lossless and affordable means. I have developed a new filter of renewable power, accumulating a minimum of energy. My smoothing method SPLPF is highly effective with energy storage systems (ESS) providing low capacity [Wh] and high relative power [W/Wh] like e.g. flywheel (FESS) or supercapacitor (EDLC). I have a pending patent app. No. PCT/SK2022/050014 in the smoothing of renewable power. The European Patent Office has recently issued an International Search Report confirming its novelty, inventive step, and industrial applicability. I am currently searching an industrial & funding partner who might benefit from my technology. My photovoltaic projects: PV Logger Smoothing of PV power You can contact me at LinkedIn or email me.", "title": "About Me"}, {"location": "MkDocs/", "text": "Welcome to MkDocs For full documentation visit mkdocs.org . Commands mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs gh-deploy - Deploy the documentation site. mkdocs -h - Print help message and exit. Project layout mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.", "title": "Welcome to MkDocs"}, {"location": "MkDocs/#welcome-to-mkdocs", "text": "For full documentation visit mkdocs.org .", "title": "Welcome to MkDocs"}, {"location": "MkDocs/#commands", "text": "mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs gh-deploy - Deploy the documentation site. mkdocs -h - Print help message and exit.", "title": "Commands"}, {"location": "MkDocs/#project-layout", "text": "mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.", "title": "Project layout"}, {"location": "pv_intermit/", "text": "Intermittency of renewable power Impact on the grid Moving clouds and gusty winds make the renewable power unstable over time. As the share of renewable energy sources (RES) grows in the grid, their random power fluctuations pose an increasing risk to the grid's stability and the power quality. To mitigate this, the grid's transmission capacity is being reinforced in order to smooth the random time course of renewable power on a high aggregation level over long distances by water pumps or gass turbines. Increasing the share of renewable energy requires ever greater investment in building the grid infrastructure, which increases the price of electricity and is aesthetically damaging to the landscape. Smoothing of renewable power Extra grid investments, transmission losses and landscape could be saved by smoothing the intermittent power on a lower aggregation level, or even per-RES. Balancing of energy between the grid and a storage (ESS) may smooth the intermittent power almost loss-free by applying a low-pass power filter (LPF). A disadvantage of the local power smoothing is that it takes up a fast, high-capacity ESS which is expensive. There have been advanced smoothing algorithms published, accumulating less energy than a basic application of LPF does. Actually, the known filtering methods still accumulate too much energy, preventing the local application of ESS from the affordable power smoothing. Our first objective was to analyze the ideal power smoothing model IPLPF , exciting a LPF with the exact future PV power signal, in theory eliminating the unnecessary accumulation of energy caused by the LPF's time lag, thus accumulating a minimum of energy. Based on the measured solar radiation GI(t) over a time span of 1+ year, the ideal power smoothing model was numerically simulated. The aggregated specific accumulation rate provides a reference quantifier of solar intermittency on one side, while the corresponding specific accumulation cost indicates a potential affordability of the ideal smoothing of PV power. Next, a novel SPLPF smoothing method has been designed in order to minimize the accumulated energy by LPF even when its input future power signal is distorted by a prediction error, since this error increases the accumulated energy either way. Given the measured solar data GI(t) , the accumulation rate of SPLPF smoothing was aggregated while applying a variable prediction error at the LPF input: With low to medium prediction error, the SPLPF smoothing performs close to the IPLPF model and much better than the LPF excited with the same predicted input signal does. The numeric simulation has confirmed that the SPLPF smoothing is affordable with the predicted PV power signal. RES power ramping limit However low is the energy accumulated by the smoothing of renewable power, its storage is not for free. Smoothing of either local or aggregated renewable power pays-off only with a favourable tariff granted for meeting the prescribed power ramping limits. The goal is to keep the sum \"smoothing costs\" plus \"costs of other grid balancing measures\" plus \"renewable power losses due to its curtailment regulation\" at minimum and if possible, to get rid of the power curtailment. Given the RES power ramping limit and the measured signal GI(t) and its prediction error, the specific accumulation rate and smoothing cost can be aggregated. The minimum criterion can be eventually iterated by varrying the ramping limit unless this one is optimized.", "title": "Solar & Wind Intermitency"}, {"location": "pv_intermit/#intermittency-of-renewable-power", "text": "", "title": "Intermittency of renewable power"}, {"location": "pv_intermit/#impact-on-the-grid", "text": "Moving clouds and gusty winds make the renewable power unstable over time. As the share of renewable energy sources (RES) grows in the grid, their random power fluctuations pose an increasing risk to the grid's stability and the power quality. To mitigate this, the grid's transmission capacity is being reinforced in order to smooth the random time course of renewable power on a high aggregation level over long distances by water pumps or gass turbines. Increasing the share of renewable energy requires ever greater investment in building the grid infrastructure, which increases the price of electricity and is aesthetically damaging to the landscape.", "title": "Impact on the grid"}, {"location": "pv_intermit/#smoothing-of-renewable-power", "text": "Extra grid investments, transmission losses and landscape could be saved by smoothing the intermittent power on a lower aggregation level, or even per-RES. Balancing of energy between the grid and a storage (ESS) may smooth the intermittent power almost loss-free by applying a low-pass power filter (LPF). A disadvantage of the local power smoothing is that it takes up a fast, high-capacity ESS which is expensive. There have been advanced smoothing algorithms published, accumulating less energy than a basic application of LPF does. Actually, the known filtering methods still accumulate too much energy, preventing the local application of ESS from the affordable power smoothing. Our first objective was to analyze the ideal power smoothing model IPLPF , exciting a LPF with the exact future PV power signal, in theory eliminating the unnecessary accumulation of energy caused by the LPF's time lag, thus accumulating a minimum of energy. Based on the measured solar radiation GI(t) over a time span of 1+ year, the ideal power smoothing model was numerically simulated. The aggregated specific accumulation rate provides a reference quantifier of solar intermittency on one side, while the corresponding specific accumulation cost indicates a potential affordability of the ideal smoothing of PV power. Next, a novel SPLPF smoothing method has been designed in order to minimize the accumulated energy by LPF even when its input future power signal is distorted by a prediction error, since this error increases the accumulated energy either way. Given the measured solar data GI(t) , the accumulation rate of SPLPF smoothing was aggregated while applying a variable prediction error at the LPF input: With low to medium prediction error, the SPLPF smoothing performs close to the IPLPF model and much better than the LPF excited with the same predicted input signal does. The numeric simulation has confirmed that the SPLPF smoothing is affordable with the predicted PV power signal.", "title": "Smoothing of renewable power"}, {"location": "pv_intermit/#res-power-ramping-limit", "text": "However low is the energy accumulated by the smoothing of renewable power, its storage is not for free. Smoothing of either local or aggregated renewable power pays-off only with a favourable tariff granted for meeting the prescribed power ramping limits. The goal is to keep the sum \"smoothing costs\" plus \"costs of other grid balancing measures\" plus \"renewable power losses due to its curtailment regulation\" at minimum and if possible, to get rid of the power curtailment. Given the RES power ramping limit and the measured signal GI(t) and its prediction error, the specific accumulation rate and smoothing cost can be aggregated. The minimum criterion can be eventually iterated by varrying the ramping limit unless this one is optimized.", "title": "RES power ramping limit"}, {"location": "pv_log/", "text": "Measurement of global irradiance Accurate measurement of global irradiance (GI) is a prerequisite for the analysis of PV smoothing: Accurate short-term forecasting (nowcasting) of PV power is crucial when minimizing the accumulated energy by the PV power smoothing. PV power predictors are based on artificial intelligence (AI) and they can be trained by a sky-imagery and by the measured signal GI(t), in particular its fraction intercepted by a tilted PV panel. Having the measured time series GI(t), a low-pass filter can be ex-post excited by a \"predicted\" input signal GI f (t+\u0394t). That is, the measured signal is shifted to the left on its time axis and its values are optionally biased with a simulated prediction error. Given such a predicted PV power signal and having the LPF tuned to meet the given ramping limit of PV power, the accumulated energy by filter should be then minimized by technical means to minimize the smoothing cost. Following demands should be met by the measurement of solar irradiance for the analysis of PV smoothing: Capture the full spectrum of solar intermittency by an appropriately high sampling frequency Measure the fraction of irradiance which is intercepted by a tilted plane of incidence (PV panel). Respect the physical properties of planar silicon PV panels (reflexion and spectral response) For general purposes, the momentary solar irradiance has to be measured at any plane of incidence under given atmospheric conditions. Fulfilling all of these demands is not possible only by measuring the global (GHI) and diffused (dHI) horizontal irradiance (both of which are regularly measured by the national weather services). A corresponding measurement system with a data logger has been developed by the author and is in operation since 04/2021 at (48.2\u00b0, 17.1\u00b0). The system consists of 2 units: external console carrying 4 reference PV panels mounted at different angles, and temperature sensors of PV panels, internal measurement unit serving as a MPPT controller, battery charger, heat sink, A/D converter, and data logger. System features The reference monocrystaline silicon PV panels (sensors) have been calibrated by means of Ineichen\u2019s clear-sky model , having its Linke-turbidity factor calibrated by the reference GHI, dHI measured at the near meteorological site. The PV panels are re-calibrated once a year. Temperature sensors are fixed onto each PV panel. The panels are always operated at the maximum output power (MPPT) . Their optimum operating point is dynamically adjusted according to the insolation and the temperature drift of their V-I characteristic. The measured output power of each panel is divided by its active surface area and by its (known) efficiency at the measured surface temperature. The result is eventually expressed as a \"photovoltaic global irradiance\" in W/m 2 analogous to GI measured at given angle of the plane of incidence, but taking into account the reflexion and spectral response of PV panels. The data logger samples GI values with a dynamic frequency. The sampling period varies from 0.5 second to 10 minutes, depending on the momentary solar intermittency. This captures the whole spectrum of solar intermittency, but eliminates redundancy in the stored data. Several years of such an irregular time series can be stored in a relational database with a tablespace <1TB. The off-grid measurement system is self-powered 24 hours x 7 days a week. In addition to measurement, the PV sensors supply power to the data logger and charge its backup accumulator. The system requires a minimum maintenance. Simultaneous measurement of GI in 4 fixed normal angles allows an accurate interpolation of GI at any plane of incidence pointing its normal vector among the fixed normal vectors (intra-normal area). Daily (12 h) profiles of photovoltaic GI [W/m2] measured at 4 fixed planes. GHI corresponds to the horizontal plane while extrapolated GNI corresponds to a virtual solar-tracked plane of incidence. Its normal vector points to the extra-normal area in winter when the solar elevation is lower than the elevation of the four fixed normal vectors. The approximated GNI is therefore less accurate in winter. Daily (24 h) temperature profiles at PV surfaces, and the ambient temperature. The PV surface's temperature is affected by the ambient temperature, solar radiation, and by wind. Since ambient temperature is higher than sky temperature, the PV panels are always cooled by their own radiation. This effect can be observed in the night when the panels are not exposed to the solar radiation.", "title": "PV Logger"}, {"location": "pv_log/#measurement-of-global-irradiance", "text": "Accurate measurement of global irradiance (GI) is a prerequisite for the analysis of PV smoothing: Accurate short-term forecasting (nowcasting) of PV power is crucial when minimizing the accumulated energy by the PV power smoothing. PV power predictors are based on artificial intelligence (AI) and they can be trained by a sky-imagery and by the measured signal GI(t), in particular its fraction intercepted by a tilted PV panel. Having the measured time series GI(t), a low-pass filter can be ex-post excited by a \"predicted\" input signal GI f (t+\u0394t). That is, the measured signal is shifted to the left on its time axis and its values are optionally biased with a simulated prediction error. Given such a predicted PV power signal and having the LPF tuned to meet the given ramping limit of PV power, the accumulated energy by filter should be then minimized by technical means to minimize the smoothing cost. Following demands should be met by the measurement of solar irradiance for the analysis of PV smoothing: Capture the full spectrum of solar intermittency by an appropriately high sampling frequency Measure the fraction of irradiance which is intercepted by a tilted plane of incidence (PV panel). Respect the physical properties of planar silicon PV panels (reflexion and spectral response) For general purposes, the momentary solar irradiance has to be measured at any plane of incidence under given atmospheric conditions. Fulfilling all of these demands is not possible only by measuring the global (GHI) and diffused (dHI) horizontal irradiance (both of which are regularly measured by the national weather services). A corresponding measurement system with a data logger has been developed by the author and is in operation since 04/2021 at (48.2\u00b0, 17.1\u00b0). The system consists of 2 units: external console carrying 4 reference PV panels mounted at different angles, and temperature sensors of PV panels, internal measurement unit serving as a MPPT controller, battery charger, heat sink, A/D converter, and data logger.", "title": "Measurement of global irradiance"}, {"location": "pv_log/#system-features", "text": "The reference monocrystaline silicon PV panels (sensors) have been calibrated by means of Ineichen\u2019s clear-sky model , having its Linke-turbidity factor calibrated by the reference GHI, dHI measured at the near meteorological site. The PV panels are re-calibrated once a year. Temperature sensors are fixed onto each PV panel. The panels are always operated at the maximum output power (MPPT) . Their optimum operating point is dynamically adjusted according to the insolation and the temperature drift of their V-I characteristic. The measured output power of each panel is divided by its active surface area and by its (known) efficiency at the measured surface temperature. The result is eventually expressed as a \"photovoltaic global irradiance\" in W/m 2 analogous to GI measured at given angle of the plane of incidence, but taking into account the reflexion and spectral response of PV panels. The data logger samples GI values with a dynamic frequency. The sampling period varies from 0.5 second to 10 minutes, depending on the momentary solar intermittency. This captures the whole spectrum of solar intermittency, but eliminates redundancy in the stored data. Several years of such an irregular time series can be stored in a relational database with a tablespace <1TB. The off-grid measurement system is self-powered 24 hours x 7 days a week. In addition to measurement, the PV sensors supply power to the data logger and charge its backup accumulator. The system requires a minimum maintenance. Simultaneous measurement of GI in 4 fixed normal angles allows an accurate interpolation of GI at any plane of incidence pointing its normal vector among the fixed normal vectors (intra-normal area). Daily (12 h) profiles of photovoltaic GI [W/m2] measured at 4 fixed planes. GHI corresponds to the horizontal plane while extrapolated GNI corresponds to a virtual solar-tracked plane of incidence. Its normal vector points to the extra-normal area in winter when the solar elevation is lower than the elevation of the four fixed normal vectors. The approximated GNI is therefore less accurate in winter. Daily (24 h) temperature profiles at PV surfaces, and the ambient temperature. The PV surface's temperature is affected by the ambient temperature, solar radiation, and by wind. Since ambient temperature is higher than sky temperature, the PV panels are always cooled by their own radiation. This effect can be observed in the night when the panels are not exposed to the solar radiation.", "title": "System features"}, {"location": "pv_smooth/", "text": "Lossless smoothing of renewable power The objective is to meet the given ramping limits of RES power while accumulating a minimum of energy by the lossless smoothing of intermittent power. If the smooth power is generated by a low-pass filter (LPF) excited by the RES output power, then such a power filter induces high accumulation costs due to its time lag (a group delay in its frequency response). The higher LPF order or its lower cut-off frequency, the smoother output but the greater time lag. This could be eliminated in theory, if the LPF was excited by a future time course of the RES power. Unfortunately, the time course of RES power is random and its short-time prediction (nowcasting) is not exact and this error considerably increases the energy accumulated by LPF. Recently, various predictive filters e.g. zero group-delay filter , Kalman filter have been examined to avoid the accumulation of energy due to the time lag of LPF. These filters seemingly operate as a system, integrating the predictor and LPF into a single functional unit that potentially accumulates less energy than a standard LPF excited by the predicted RES power does. However, they are trained only by a historical information from the measured power signal p(t), lacking a predictive information e.g. from the sky imagery. As a result, the accumulation costs induced by such filters still exceed the production costs of fossil and nuclear electricity (assuming current social cost of CO 2 and nuclear waste). Our analysis will be focused at first on the application of a standard LPF excited by a PV predictor trained by both sky imagery and p(t) signals. Then we integrate these two into a single functional entity, exploiting the system benefit of predictive filters and maximizing the training information for PV nowcasting. Figure 1: Smoothing of PV power by a low-pass filter In the schematic diagram on Figure 1, a PV power plant (PVPP) is connected to the grid and its intermittent power p(t) is accumulated or compensated (=smoothed) by an accumulator (ESS). The smoothing power is actuated by a bidirectional inverter AC/DC, and it is determined by the ouput signal p(t)-s(t+\u0394t) of a differencer. A positive sign of the smoothing power is oriented from the grid to ESS. Thus a total power superimposed to the grid by PVPP and ESS is determined by the filter\u2019s output signal s(t+\u0394t). For the simplification, PVPP and ESS are single-phase connected to the grid. Four different power smoothing concepts have been analysed: In case of LPF smoothing, the measured signal p(t) bypasses the predictor, directly exciting LPF. In theory, the ideal predictive smoothing IPLPF excites the LPF by the exact future PV power signal p(t+\u0394t) where the time advance \u0394t is absolutely equal to the LPF's group delay at frequencies f<<f c where f c is the cut-off frequency of LPF. The smooth power signal s(t+\u0394t) is a response of LPF to the input signal p(t+\u0394t). According to the schematic diagram, PLPF smoothing method excites the LPF with a predicted PV power signal p f (t+\u0394t), approximating the signal p(t+\u0394t). The predictor is trained by a sky-imagery signal and by the measured PV power p(t). Finally, a smart smoothing method SPLPF (patent pending) has been proposed, integrating the LPF with a PV predictor trained by both measured PV power p(t) and sky-imagery. This method has a modified block diagram. Energy accumulated by smoothing For the clarity of analysis, energy losses in the AC/DC power conversion and energy storage will be neglected. The time course of the accumulated energy by ESS $$SOC(t)=\\int_{0}^t (p(\\tau)-s(\\tau+\\Delta t))d\\tau\\tag{1}\\label{eq:1}$$ defines the change in the state-of-charge [Wh] since time 0 until time t, while SOC may acquire both positive and negative values. (Always-positive SOC values in ESS can be technically managed.) The time advance \u0394t reduces absolute values of the integrated function. The IPLPF-defined signal s(\u03c4+\u0394t) ensures that following 4 technical criteria are satisfied: Mean value of SOC is near to zero: $${1 \\over T} \\int_{0}^T SOC (t) dt \u2248 0\\tag{2}\\label{eq:2}$$ Mean quadratic deviation of SOC is near to minimum: $${1 \\over T} \\int_{0}^T SOC^2 (t) dt \u2248 min\\tag{3}\\label{eq:3}$$ Hence the required storage capacity per cycle T (24 hours in case of PV power p(t)) is close to the minimum: $$\\Delta SOC = max(SOC) \u2013 min(SOC) \u2248 min\\tag{4}\\label{eq:4}$$ Throughput of the accumulated energy per cycle T is near to its minimum: $${1 \\over 2} \\int_{0}^T|p(\\tau)-s(\\tau+\\Delta t)|d \\tau \u2248 min\\tag{5}\\label{eq:5}$$ The accumulation rate is quantified by \\eqref{eq:4} and \\eqref{eq:5} and by the demanded power from/to ESS during a sudden loss or a peak of direct sunlight: $$P_{ESS}=max|p(\\tau)-s(\\tau+\\Delta t)|\\tag{6}\\label{eq:6}$$ In practise, P EES does not exceed 80% of the installed PV power. Specific accumulation rate Let us first discuss a proportionality between the PV power and the global irradiance GI: In our experiment, the solar irradiance is intercepted by planar panels of size 20 cm x 16 cm on the earth\u2019s surface. To be exact, it should be mentioned that p(t) is usually smoother than GI(t), as the (usually greater) surface area of the corresponding PV plane acts like a moving-average filter of GI(t). Unfortunately, the size and speed of clouds prevent a relevant smoothing effect from being achieved by the existing PV surface. By assuming the proportionality between GI(t) and p(t), we analyze the worst case of PV intermittency. For the sake of general validity of our analysis, we will substitute the signals p(\u03c4), s(\u03c4+\u0394t) in \\eqref{eq:1}, \\eqref{eq:5}, \\eqref{eq:6} with the measured signal GI(\u03c4) and with its \u201cpredicted-and-smoothed\u201d counterpart GI s (\u03c4+\u0394t). After substitution, the intergal \\eqref{eq:1} determines the time course of the specific stored energy GX(t) [Wh/m 2 ] by the filter, whereas SOC(t) is approximately proportional to GX(t). The integral \\eqref{eq:5} computes the specific accumulated throughput [Wh/m 2 ] per cycle T. The measured signal GI(t) and the LPF applied allow for the aggregation of specific ESS parameters requested by the smoothing: specific accumulation capacity \u0394GX=max(GX)-min(GX) by \\eqref{eq:4}, specific accumulated throughput by \\eqref{eq:5}. maximum specific power GI ESS =max|GI(\u03c4)-GI s (\u03c4+\u0394t)| by \\eqref{eq:6}, These 3 aggregates define the specific accumulation rate of smoothing. Management of positive SOC Assume that the prerequisite \\eqref{eq:2} holds. Let us split the ESS into 2 accumulators, from which the first one is fully charged and the other one is empty at the beginning of a cycle T. The smoothing power is rectified such that the precharged accumulator is being exclusively discharged whilst the empty one is being exclusively charged by the smoothing, unless the first one is empty or the other one is full. At this moment their roles will be exchanged and so forth until the end of the cycle T. The IPLPF smoothing ensures that \\eqref{eq:2} holds so there is a stable balance between charging and discharging of the two accumulators throughout the whole cycle T. If microcycling is not harmful to the ESS, then 1 accumulator is sufficient - being precharged to 1/2 of its SOC max at the beginning of cycle T, assuming that SOC max \u2265 max(SOC) - min(SOC). Ideal predictive smoothing (IPLPF) We simulate the operation of ideal predictive smoothing (IPLPF) by means of a LPF, ex-post excited by the future signal GI(t+\u0394t) where GI(t) is measured and the time advance \u0394t (above defined) eliminates the filter\u2019s time lag. In theory, such an ideal smoothing would minimize the accumulated energy, given the ramping limit. Using a reference LPF, the specific accumulation rate of IPLPF smoothing quantifies the solar intermittency. The IPLPF analysis aims to reveal the potential affordability of PV smoothing , assuming that a real smoothing technology exists or will exist, performing close to the IPLPF. Our numeric experiment is based on the measured solar irradiance over a period of 1 year, and the contemporary prices of LiFePO4 accumulators. Smoothing by IPLPF vs LPF Global irradiance GI measured, filtered by LPF and IPLPF, and the specific energy GX accumulated by the filters: The left graph shows the measured and low-passed (legend \u201clp\u201d) GI signals on a day with high solar exposure and strong intermittency. The graph on the right shows the specific accumulated energy GX [Wh/m 2 ] by IPLPF (legend \"aavg0\") vs LPF (legend \"lp\") on a given day. Exactly-predicted input signal GI(t+\u0394t) shifts the IPLPF output to the left, minimizing the standard deviation of GX, thus in practise minimizing the difference \u0394GX = max(GX) \u2013 min(GX), expressing the request for the specific accumulation capacity. The specific throughput of the accumulated energy is also minimized by the IPLPF. Costs of IPLPF smoothing The smoothing costs result from the accumulation technology and from the accumulation rate. The accumulation rate results from the solar intermittency and from the desired ramping of smoothed PV power. In a non-ideal smoothing (e.g. PLPF), the values \\eqref{eq:4} and \\eqref{eq:5} are larger the less perfectly controlled the balancing of power between the grid and ESS. In the illustrated example, IPLPF needs between 18% and 20% of \u0394SOC relative to LPF, and IPLPF accumulates between 57% and 70% of the energy through ESS relative to LPF (see Tables 2, 3). There is a trade-off between the smoothing effect and the accumulation rate: The lower ramping limit (i.e. smoother s(t)), the higher accumulation rate. (This trend is especially critical in case of PLPF smoothing: The higher \u0394t, the higher prediction error, and the much higher accumulation rate!) Both \u0394SOC and energy throughput reach their theoretical minimum with the IPLPF smoothing. Based on the measured GI(t) over a time span of 1 year and the LiFePO4 lifecycle data and prices, the specific accumulation rate of IPLPF has been aggregated and the corresponding smoothing costs have been calculated. The numeric results show that IPLPF operation is worthwhile with the German electricity purchase tariff and the PV feed-in tariff as of 2021. The ideal smoothing costs are substantially lower than the difference between the purchase and PV feed-in tariffs (assuming that the smooth PV infeed partially eliminates the distribution costs). Small-scale hybrid PV system A household with the installed PV power <10kW is connected to the low-voltage grid, having a LiFePO4 BESS with energy capacity \u2248 2h x installed PV power. The hybrid PV system feeds its excessive PV power into the grid, as long as the household\u2019s consumption is satisfied and the battery has been charged. If the charging stopped at e.g. 85% SOC max , the BESS would further provide enough power to smooth the excessive PV infeed to the grid with a relative power <1 h -1 , provided that the remaining free BESS capacity is reserved for the IPLPF smoothing (e.g. 7% \u0394SOC would had to be reserved for IPLPF on 2022-03-04). Additional technical measures have to avoid its microcycling - e.g. a BESS consisting from 2 independent batteries. IPLPF accumulates energy only on solar-intermittent days, else no storage is needed by IPLPF. IPLPF costs measured from 04/2021 to 03/2022. The plane of incidence and the applied LPF correspond to the GI(t) and GX(t) plots: Table 1 Conditions of cost calculation: 1/3 of the yearly-generated PV energy by the hybrid PV system is assumed as infeed to the grid. Microcycling of BESS is eliminated by technical means. LiFePO4 life cycle data and per kWh price as of 2021 Energy losses due to AC/DC conversion and accumulation are neglected. The costs are specific per 1 kW of installed PV power. CapEx = initial investment to PV smoothing includes 90% of the BESS capacity reserved for the basic storage, 10% for smoothing. OpEx = regular (e.g. yearly) costs necessary for its uninterrupted operation. The greater from (CapEx, sevice_interval * OpEx) defines the cost of IPLPF smoothing for a given service interval. Having a small part of BESS capacity reserved and a total BESS power available, the smoothing by IPLPF is much cheaper than the added value to the PV power infeed is. IPLPF technology offers an affordable smoothing of the PV power infeed in grid areas with a high concentration of small-scale hybrid PV systems. Suitable accumulators for IPLPF Although the IPLPF shrinks the necessary capacity and the accumulated throughput to their theoretical minimum, it reciprocally increases the relative smoothing power GI ESS /\u0394GX up to 7 h -1 , as it is shown by tables 1 and 2 . Regardless of its reduced capacity, the ESS must supply the missing PV power while the direct sun beams are temporarily shadowed by clouds. Lithium accumulators are cheap, efficient and fast, but not enough powerful to perform a sole IPLPF smoothing. It is not recommended to charge/draw a LiFePO4 battery by a relative power > 1 h -1 , otherwise the battery\u2019s life cycle would be shortened. Such a high relative power is provided by EDLC supercapacitors (SC), but on contrary to Lithium bateries, these do not provide enough cheap capacity to make the IPLPF smoothing affordable. The currently-available RedOx and EDLC technologies do not harmonize with the IPLPF smoothing demands. Actually, the IPLPF might well work with a flywheel (FESS) : 1) The maximum relative power of the FESS covers the IPLPF smoothing demands with a margin. 2) It is expected that the specific cost per kWh of FESS is less than that of SC. 3) Flywheels already regulate frequency in the grid, operating under similar conditions like in the IPLPF smoothing of PV power. (Because of unknown prices and life cycle data, we calculated neither CapExp, nor OpExp of FESS in a role of IPLPF storage.) The high relative power and significant stored energy identify flywheels as a candidate accumulator for IPLPF smoothing. Summary of IPLPF One year of a continous GI(t) measurement has confirmed that if the PV smoothing performed close to the ideal smoothing IPLPF, it would be affordable with LiFePO4 technology when properly implemented in a hybrid PV system (inclusive measures against micro-cycling of BESS). The flywheel storage provides the high relative power needed by IPLPF. The low accumulated energy achieved by IPLPF should motivate the further development of technologies among which the high-power accumulation of energy, accurate nowcasting of PV power, and the smart filtering of intermitent power are key. Real smoothing (PLPF, SPLPF) Now, the objective is to analyze the smoothing effect vs accumulation rate (in summary: performance) of PV smoothing under real conditions. The measured global irradiance signal GI(t) allows not only the simulation of ideal predictive low-pass smoothing (IPLPF), but also a predictive smoothing of PV power (PLPF) having a low-pass filter excited by a real-predicted signal GI f (t+\u0394t). The values GI f are biased by a prediction error. The numeric results will show that this error induces a significant energy accumulated by the PLPF smoothing. We simulated the prediction error into the measured GI values in order to statistically represent the predicted signal GI f (t+\u0394t) and to have a possibility to adjust the prediction error. Thus, the measured GI(t) signal allowed us to analyze the impact of prediction error on the smoothing of PV power. In addition to PLPF, we have developed a \u201csmart predictive\" low-pass smoothing method SPLPF (patent pending) , minimizing the accumulated energy \\eqref{eq:4}, \\eqref{eq:5} with respect to the given ramping limit and real-predicted values GI f . We eventually analyzed the performance of these smoothing methods: LPF: Input of LPF excited by the measured signal GI(t) IPLPF: Input of LPF excited by the measured, optimally left-shifted signal GI(t+\u0394t) PLPF: Input of LPF excited by the simulated-predicted signal GI f (t+\u0394t) SPLPF: Smart power filter excited by the simulated-predicted signal GI f . OLAP analysis The objective is to analyze the accumulation rate along partial dimensions (a few independent quantitative or categorical variables) for a given smoothing effect resulting from the allowed ramping of the filtered power. Let us define the reference smoothing by the output of a 3rd-order Butterworth filter with cut-off frequency = 7.5/12h (\u0394t = 30 minutes). We aggregated the accumulation rate into an OLAP cube by the following dimensions: smoothing method LPF order smooth_int (prediction error) SE (prediction error) First of all, the same smoothing effect has to be fixed to various LPF used: Low-pass filters of orders 1 to 4 are tuned to output the equal ramping, provided that each filter is excited by the measured, optimally shifted signal GI(t+\u0394t). With such a tuning, increasing of the LPF order increases its cut-off frequency but only slightly increases the advance \u0394t. The next goal is to identify the LPF order accumulating a minimum of energy, given the smoothing method and ramping limit. It was found out that the optimal LPF order for SPLPF is also valid for the IPLPF smoothing method. (This is irrelevant for the remaining 2 methods since they accumulate much more energy than IPLPF and SPLPF.) After determining the optimal LPF order, the performance of smoothing methods PLPF and SPLPF was analyzed by a variable prediction error. The numerical results are displayed in tables and graphs, and these are literally explained. Simulation of predicted PV power The group delay of LPF is a physical function of the LPF order and its cut-off frequency. But given the ramping limit, it changes only slightly for any relevant combination of the two variables. Hence \u0394t technically represents the smoothing effect of LPF. The impact of prediction error on GI f values is aggregated at the \"future\" time t+\u0394t. The predicted signal GI f (t+\u0394t) is derived from the measured, left-shifted signal GI(t+\u0394t) by smoothing its \"future\" time course and by superimposing a random error on it, with respect to the fundamental properties of PV predictors: as the advance \u0394t increases, the (unwanted) smoothing of the predicted signal GI f strengthens as the advance \u0394t increases, the impact of random error on GI f increases (statistically cumulates) We specify the prediction error by 2 OLAP dimensions: Interval of prediction, after passing of which the smoothing impact on the predicted signal is strengthened, is defined by the parameter smooth_int [minute]. The shorter this interval, the steeper the smoothing effect rises towards predicted future. Standard deviation of the random prediction error SE (a dimensionless parameter). A random value is superimposed onto each \"future\" GI value. This error is re-generated after passing each 6-minute interval of prediction. The impact of random error on GI f (t+\u0394t) is statistically cumulated over interval \u0394t (obviously greater than 6 minutes). In this report, we simulate the GI f predictors with two different accuracies: \u201cBetter prediction accuracy\u201d: smooth_int = 6 minutes, SE = 0.05 \"Worse prediction accuracy\": smooth_int = 3 minutets, SE = 0.1. Impact of prediction error The quality and accumulation rate of power smoothing exhibit following dependencies on partial dimensions expressing the prediction error (see Figures 2, 6): Smoothed predicted signal Changing of smooth_int affects the smoothing effect neither of SPLPF nor PLPF method, while for all values, PLPF performs smoother than SPLPF (Figures 3, 4, 7, 8). Lowering of smooth_int dramatically increases the accumulation rate of PLPF, which is always much greater than the accumulation rate of SPLPF (Figures 5, 9). With \"worse prediction accuracy\", the PLPF method even exceeds the accumulation rate induced by the LPF method (Figure 9). In SPLPF, the accumulation rate increases only slightly and much more slowly than in PLPF. Random error in predicted values Increasing of SE has no impact on the smoothing effect of PLPF, but it does degrade the smoothing of SPLPF (check Figure 7 vs Figure 8). In PLPF, the smoothing effect with a standard error SE > 0 is always better than in SPLPF. Increasing of SE significantly increases the accumulation rate of PLPF (Figures 5, 9), which is for all values SE > 0 much higher than the accumulation rate of SPLPF. For some SE values, the PLPF method even exceeds the LPF method in its accumulation rate. The accumulation rate increases only slightly in SPLPF, and less so the higher the filter order (up to 3). Analysis by LPF order Filter order is another OLAP dimension whose impact on the smoothing performance was analyzed along with the prediction error. We analyzed the LPF orders 1 to 4 (Figures 10-21): Filter order does not affect the smoothing effect of PLPF method, given a non-zero prediction error. For small filter orders, the output of PLPF is smoother than that of SPLPF. Increasing the filter order from 1 to 3 notably improves the smoothing effect of SPLPF, given a non-zero prediction error (Figures 10-12, 16-18). Given the prediction error, increasing of the filter order only slightly reduces the accumulation rate of PLPF, and this is always substantially greater than the accumulation rate of SPLPF. Increasing of the filter order notably reduces the accumulation rate induced by both IPLPF (zero prediction error) and SPLPF (non-zero prediction error) smoothing methods - see Figures 13-15, 19-21. With the simulated predictor, this trend is reversed between the orders 3 and 4 by the SPLPF method. With the simulated predictor, SPLPF performs best with the filter order 3. Numerical results of smoothing Presented results are based on the measured GI data on days exhibiting a strong solar intermittency and a moderate to strong insolation. Accumulation rate by method Specific accumulation rate per date and smoothing method, using the reference filter: Table 2: Date 2022-03-04 medium insolation, strong intermittency Table 3: Date 2022-04-04 high insolation, strong intermittency Maximum specific power from/to ESS calculated by \\eqref{eq:6} is in the column \"GI ESS \". A difference between the maximum and minimum specific accumulated energy calculated by \\eqref{eq:4} is in the column \"\u0394GX\". Daily flow of the specific energy through ESS calculated by \\eqref{eq:5} is in the column \"Throughput\". Daily insolation at the plane of incidence is displayed as \"Global exposure\". With \"better prediction accuracy\" during the selected days, the SPLPF smoothing required a relative ESS power between 5.5h -1 - 7.2h -1 which is 3.8 - 4.8 times more then by the LPF smoothing, 2.4 - 4.2 times more than by PLPF, and eventually 84% - 99% of the IPLPF power request. The SPLPF smoothing required 21% - 22% of the ESS capacity used by the LPF method, or 24% - 41% of the capacity used by PLPF. The SPLPF eventually required 1.0 - 1.2 times the ESS capacity used by IPLPF. The SPLPF smoothing put 58% - 73% of the energy through ESS relative to the LPF method, or 75% - 83% of the energy throughput by PLPF. SPLPF eventually put 1.0 - 1.1 times more energy through ESS than the IPLPF method. With \"worse prediction accuracy\" during the selected days, the SPLPF smoothing required a relative ESS power between 3.8h -1 - 6.3h -1 which is 2.6 - 4.2 times more then by the LPF smoothing, 3.6 - 5.1 times more than by PLPF, and eventually 58% - 86% of the IPLPF power request. The SPLPF smoothing required 24% - 33% of the ESS capacity used by the LPF method, or 19% - 28% of the capacity used by PLPF. The SPLPF eventually required 1.2 - 1.8 times the ESS capacity used by IPLPF. The SPLPF smoothing put 59% - 77% of the energy through ESS relative to the LPF method, or 63% - 69% of the energy throughput by PLPF. SPLPF eventually put 1.0 - 1.1 times more energy through ESS than the IPLPF method. SPLPF vs IPLPF Although we did not analyze the whole year (the numerical simulation of SPLPF is computationally intensive), our analysis of 4 smoothing methods on the selected days with high solar intermittency and various solar exposures, with 4 filter orders, and with a varrying prediction error provides a detailed insight into the SPLPF performance. This smoothing method performs much better than PLPF. With a relatively small prediction error, SPLPF performs close to the ideal smoothing IPLPF. The presented empirical results have been theoretically justified (part of the patent application). Graphical display of smoothing The following graphs show the smoothing effect and accumulated energy depending on the smoothing method and other OLAP dimensions. The measured data on 2 selected days have been processed into the following time series: Measured GI(t), synchronized with predicted GI f (1 hour zoomed) - Figures 2, 6 Measured GI(t) and its smooth counterpart by the prediction accuracy, comparing all smoothing methods, having optimal LPF order applied - Figures 3, 4, 7, 8 Accumulated GX(t) by the prediction accuracy, comparing all smoothing methods, having optimal LPF order applied - Figures 5, 9 Smoothed GI(t) by the filter order and prediction accuracy, comparing IPLPF and SPLPF smoothing methods - Figures 10-12, 16-18 Accumulated GX(t) by the filter order and prediction accuracy, comparing IPLPF and SPLPF smoothing methods - Figures 13-15, 19-21 Analysis by prediction error A day with medium insolation Figure 2: Measured GI synchronized with GIf (predicted 30 minutes ago) between 11:00 and 12:00. (Lo Err: better prediction accuracy, Hi Err: worse prediction accuracy) Figure 3: Measured and smoothed GI by 4 different methods; better prediction accuracy Figure 4: Measured and smoothed GI by 4 smoothing methods; worse prediction accuracy Figure 5: Time course of GX accumulated by 4 smoothing methods. (Lo Err: better prediction accuracy, Hi Err: worse prediction accuracy) A day with high insolation Figure 6: Measured GI synchronized with GIf (predicted 30 minutes ago) between 11:00 and 12:00. (Lo Err: better prediction accuracy, Hi Err: worse prediction accuracy) Figure 7: Measured and smoothed GI by 4 smoothing methods; better prediction accuracy Figure 8: Measured and smoothed GI by 4 smoothing methods; worse prediction accuracy Figure 9: Time course of GX accumulated by 4 smoothing methods. (Lo Err: better prediction accuracy, Hi Err: worse prediction accuracy) Analysis by LPF order Following graphs compare the smoothing by IPLPF vs SPLPF method: A day with medium insolation Figure 10: Time course of IPLPF-smoothed GI exhibits similar ramping for each filter order Figure 11: Time course of SPLPF-smoothed GI by filter order; better prediction accuracy Figure 12: Time course of SPLPF-smoothed GI by filter order; worse prediction accuracy Figure 13: Time course of IPLPF-accumulated GX by filter order Figure 14: Time course of SPLPF-accumulated GX by filter order; better prediction accuracy Figure 15: Time course of SPLPF-accumulated GX by filter order; worse prediction accuracy . A day with high insolation Figure 16: Time course of IPLPF-smoothed GI shows its similar ramping for each filter order Figure 17: Time course of SPLPF-smoothed GI by filter order; better prediction accuracy Figure 18: Time course of SPLPF-smoothed GI by filter order; worse prediction accuracy Figure 19 Time course of IPLPF-accumulated GX by filter order) Figure 20: Time course of SPLPF-accumulated GX by filter order; better prediction accuracy Figure 21: Time course of SPLPF-accumulated GX by filter order; worse prediction accuracy", "title": "Smoothing of renewable power"}, {"location": "pv_smooth/#lossless-smoothing-of-renewable-power", "text": "The objective is to meet the given ramping limits of RES power while accumulating a minimum of energy by the lossless smoothing of intermittent power. If the smooth power is generated by a low-pass filter (LPF) excited by the RES output power, then such a power filter induces high accumulation costs due to its time lag (a group delay in its frequency response). The higher LPF order or its lower cut-off frequency, the smoother output but the greater time lag. This could be eliminated in theory, if the LPF was excited by a future time course of the RES power. Unfortunately, the time course of RES power is random and its short-time prediction (nowcasting) is not exact and this error considerably increases the energy accumulated by LPF. Recently, various predictive filters e.g. zero group-delay filter , Kalman filter have been examined to avoid the accumulation of energy due to the time lag of LPF. These filters seemingly operate as a system, integrating the predictor and LPF into a single functional unit that potentially accumulates less energy than a standard LPF excited by the predicted RES power does. However, they are trained only by a historical information from the measured power signal p(t), lacking a predictive information e.g. from the sky imagery. As a result, the accumulation costs induced by such filters still exceed the production costs of fossil and nuclear electricity (assuming current social cost of CO 2 and nuclear waste). Our analysis will be focused at first on the application of a standard LPF excited by a PV predictor trained by both sky imagery and p(t) signals. Then we integrate these two into a single functional entity, exploiting the system benefit of predictive filters and maximizing the training information for PV nowcasting. Figure 1: Smoothing of PV power by a low-pass filter In the schematic diagram on Figure 1, a PV power plant (PVPP) is connected to the grid and its intermittent power p(t) is accumulated or compensated (=smoothed) by an accumulator (ESS). The smoothing power is actuated by a bidirectional inverter AC/DC, and it is determined by the ouput signal p(t)-s(t+\u0394t) of a differencer. A positive sign of the smoothing power is oriented from the grid to ESS. Thus a total power superimposed to the grid by PVPP and ESS is determined by the filter\u2019s output signal s(t+\u0394t). For the simplification, PVPP and ESS are single-phase connected to the grid. Four different power smoothing concepts have been analysed: In case of LPF smoothing, the measured signal p(t) bypasses the predictor, directly exciting LPF. In theory, the ideal predictive smoothing IPLPF excites the LPF by the exact future PV power signal p(t+\u0394t) where the time advance \u0394t is absolutely equal to the LPF's group delay at frequencies f<<f c where f c is the cut-off frequency of LPF. The smooth power signal s(t+\u0394t) is a response of LPF to the input signal p(t+\u0394t). According to the schematic diagram, PLPF smoothing method excites the LPF with a predicted PV power signal p f (t+\u0394t), approximating the signal p(t+\u0394t). The predictor is trained by a sky-imagery signal and by the measured PV power p(t). Finally, a smart smoothing method SPLPF (patent pending) has been proposed, integrating the LPF with a PV predictor trained by both measured PV power p(t) and sky-imagery. This method has a modified block diagram.", "title": "Lossless smoothing of renewable power"}, {"location": "pv_smooth/#energy-accumulated-by-smoothing", "text": "For the clarity of analysis, energy losses in the AC/DC power conversion and energy storage will be neglected. The time course of the accumulated energy by ESS $$SOC(t)=\\int_{0}^t (p(\\tau)-s(\\tau+\\Delta t))d\\tau\\tag{1}\\label{eq:1}$$ defines the change in the state-of-charge [Wh] since time 0 until time t, while SOC may acquire both positive and negative values. (Always-positive SOC values in ESS can be technically managed.) The time advance \u0394t reduces absolute values of the integrated function. The IPLPF-defined signal s(\u03c4+\u0394t) ensures that following 4 technical criteria are satisfied: Mean value of SOC is near to zero: $${1 \\over T} \\int_{0}^T SOC (t) dt \u2248 0\\tag{2}\\label{eq:2}$$ Mean quadratic deviation of SOC is near to minimum: $${1 \\over T} \\int_{0}^T SOC^2 (t) dt \u2248 min\\tag{3}\\label{eq:3}$$ Hence the required storage capacity per cycle T (24 hours in case of PV power p(t)) is close to the minimum: $$\\Delta SOC = max(SOC) \u2013 min(SOC) \u2248 min\\tag{4}\\label{eq:4}$$ Throughput of the accumulated energy per cycle T is near to its minimum: $${1 \\over 2} \\int_{0}^T|p(\\tau)-s(\\tau+\\Delta t)|d \\tau \u2248 min\\tag{5}\\label{eq:5}$$ The accumulation rate is quantified by \\eqref{eq:4} and \\eqref{eq:5} and by the demanded power from/to ESS during a sudden loss or a peak of direct sunlight: $$P_{ESS}=max|p(\\tau)-s(\\tau+\\Delta t)|\\tag{6}\\label{eq:6}$$ In practise, P EES does not exceed 80% of the installed PV power.", "title": "Energy accumulated by smoothing"}, {"location": "pv_smooth/#specific-accumulation-rate", "text": "Let us first discuss a proportionality between the PV power and the global irradiance GI: In our experiment, the solar irradiance is intercepted by planar panels of size 20 cm x 16 cm on the earth\u2019s surface. To be exact, it should be mentioned that p(t) is usually smoother than GI(t), as the (usually greater) surface area of the corresponding PV plane acts like a moving-average filter of GI(t). Unfortunately, the size and speed of clouds prevent a relevant smoothing effect from being achieved by the existing PV surface. By assuming the proportionality between GI(t) and p(t), we analyze the worst case of PV intermittency. For the sake of general validity of our analysis, we will substitute the signals p(\u03c4), s(\u03c4+\u0394t) in \\eqref{eq:1}, \\eqref{eq:5}, \\eqref{eq:6} with the measured signal GI(\u03c4) and with its \u201cpredicted-and-smoothed\u201d counterpart GI s (\u03c4+\u0394t). After substitution, the intergal \\eqref{eq:1} determines the time course of the specific stored energy GX(t) [Wh/m 2 ] by the filter, whereas SOC(t) is approximately proportional to GX(t). The integral \\eqref{eq:5} computes the specific accumulated throughput [Wh/m 2 ] per cycle T. The measured signal GI(t) and the LPF applied allow for the aggregation of specific ESS parameters requested by the smoothing: specific accumulation capacity \u0394GX=max(GX)-min(GX) by \\eqref{eq:4}, specific accumulated throughput by \\eqref{eq:5}. maximum specific power GI ESS =max|GI(\u03c4)-GI s (\u03c4+\u0394t)| by \\eqref{eq:6}, These 3 aggregates define the specific accumulation rate of smoothing.", "title": "Specific accumulation rate"}, {"location": "pv_smooth/#management-of-positive-soc", "text": "Assume that the prerequisite \\eqref{eq:2} holds. Let us split the ESS into 2 accumulators, from which the first one is fully charged and the other one is empty at the beginning of a cycle T. The smoothing power is rectified such that the precharged accumulator is being exclusively discharged whilst the empty one is being exclusively charged by the smoothing, unless the first one is empty or the other one is full. At this moment their roles will be exchanged and so forth until the end of the cycle T. The IPLPF smoothing ensures that \\eqref{eq:2} holds so there is a stable balance between charging and discharging of the two accumulators throughout the whole cycle T. If microcycling is not harmful to the ESS, then 1 accumulator is sufficient - being precharged to 1/2 of its SOC max at the beginning of cycle T, assuming that SOC max \u2265 max(SOC) - min(SOC).", "title": "Management of positive SOC"}, {"location": "pv_smooth/#ideal-predictive-smoothing-iplpf", "text": "We simulate the operation of ideal predictive smoothing (IPLPF) by means of a LPF, ex-post excited by the future signal GI(t+\u0394t) where GI(t) is measured and the time advance \u0394t (above defined) eliminates the filter\u2019s time lag. In theory, such an ideal smoothing would minimize the accumulated energy, given the ramping limit. Using a reference LPF, the specific accumulation rate of IPLPF smoothing quantifies the solar intermittency. The IPLPF analysis aims to reveal the potential affordability of PV smoothing , assuming that a real smoothing technology exists or will exist, performing close to the IPLPF. Our numeric experiment is based on the measured solar irradiance over a period of 1 year, and the contemporary prices of LiFePO4 accumulators.", "title": "Ideal predictive smoothing (IPLPF)"}, {"location": "pv_smooth/#smoothing-by-iplpf-vs-lpf", "text": "Global irradiance GI measured, filtered by LPF and IPLPF, and the specific energy GX accumulated by the filters: The left graph shows the measured and low-passed (legend \u201clp\u201d) GI signals on a day with high solar exposure and strong intermittency. The graph on the right shows the specific accumulated energy GX [Wh/m 2 ] by IPLPF (legend \"aavg0\") vs LPF (legend \"lp\") on a given day. Exactly-predicted input signal GI(t+\u0394t) shifts the IPLPF output to the left, minimizing the standard deviation of GX, thus in practise minimizing the difference \u0394GX = max(GX) \u2013 min(GX), expressing the request for the specific accumulation capacity. The specific throughput of the accumulated energy is also minimized by the IPLPF.", "title": "Smoothing by IPLPF vs LPF"}, {"location": "pv_smooth/#costs-of-iplpf-smoothing", "text": "The smoothing costs result from the accumulation technology and from the accumulation rate. The accumulation rate results from the solar intermittency and from the desired ramping of smoothed PV power. In a non-ideal smoothing (e.g. PLPF), the values \\eqref{eq:4} and \\eqref{eq:5} are larger the less perfectly controlled the balancing of power between the grid and ESS. In the illustrated example, IPLPF needs between 18% and 20% of \u0394SOC relative to LPF, and IPLPF accumulates between 57% and 70% of the energy through ESS relative to LPF (see Tables 2, 3). There is a trade-off between the smoothing effect and the accumulation rate: The lower ramping limit (i.e. smoother s(t)), the higher accumulation rate. (This trend is especially critical in case of PLPF smoothing: The higher \u0394t, the higher prediction error, and the much higher accumulation rate!) Both \u0394SOC and energy throughput reach their theoretical minimum with the IPLPF smoothing. Based on the measured GI(t) over a time span of 1 year and the LiFePO4 lifecycle data and prices, the specific accumulation rate of IPLPF has been aggregated and the corresponding smoothing costs have been calculated. The numeric results show that IPLPF operation is worthwhile with the German electricity purchase tariff and the PV feed-in tariff as of 2021. The ideal smoothing costs are substantially lower than the difference between the purchase and PV feed-in tariffs (assuming that the smooth PV infeed partially eliminates the distribution costs).", "title": "Costs of IPLPF smoothing"}, {"location": "pv_smooth/#small-scale-hybrid-pv-system", "text": "A household with the installed PV power <10kW is connected to the low-voltage grid, having a LiFePO4 BESS with energy capacity \u2248 2h x installed PV power. The hybrid PV system feeds its excessive PV power into the grid, as long as the household\u2019s consumption is satisfied and the battery has been charged. If the charging stopped at e.g. 85% SOC max , the BESS would further provide enough power to smooth the excessive PV infeed to the grid with a relative power <1 h -1 , provided that the remaining free BESS capacity is reserved for the IPLPF smoothing (e.g. 7% \u0394SOC would had to be reserved for IPLPF on 2022-03-04). Additional technical measures have to avoid its microcycling - e.g. a BESS consisting from 2 independent batteries. IPLPF accumulates energy only on solar-intermittent days, else no storage is needed by IPLPF. IPLPF costs measured from 04/2021 to 03/2022. The plane of incidence and the applied LPF correspond to the GI(t) and GX(t) plots: Table 1", "title": "Small-scale hybrid PV system"}, {"location": "pv_smooth/#conditions-of-cost-calculation", "text": "1/3 of the yearly-generated PV energy by the hybrid PV system is assumed as infeed to the grid. Microcycling of BESS is eliminated by technical means. LiFePO4 life cycle data and per kWh price as of 2021 Energy losses due to AC/DC conversion and accumulation are neglected. The costs are specific per 1 kW of installed PV power. CapEx = initial investment to PV smoothing includes 90% of the BESS capacity reserved for the basic storage, 10% for smoothing. OpEx = regular (e.g. yearly) costs necessary for its uninterrupted operation. The greater from (CapEx, sevice_interval * OpEx) defines the cost of IPLPF smoothing for a given service interval. Having a small part of BESS capacity reserved and a total BESS power available, the smoothing by IPLPF is much cheaper than the added value to the PV power infeed is. IPLPF technology offers an affordable smoothing of the PV power infeed in grid areas with a high concentration of small-scale hybrid PV systems.", "title": "Conditions of cost calculation:"}, {"location": "pv_smooth/#suitable-accumulators-for-iplpf", "text": "Although the IPLPF shrinks the necessary capacity and the accumulated throughput to their theoretical minimum, it reciprocally increases the relative smoothing power GI ESS /\u0394GX up to 7 h -1 , as it is shown by tables 1 and 2 . Regardless of its reduced capacity, the ESS must supply the missing PV power while the direct sun beams are temporarily shadowed by clouds. Lithium accumulators are cheap, efficient and fast, but not enough powerful to perform a sole IPLPF smoothing. It is not recommended to charge/draw a LiFePO4 battery by a relative power > 1 h -1 , otherwise the battery\u2019s life cycle would be shortened. Such a high relative power is provided by EDLC supercapacitors (SC), but on contrary to Lithium bateries, these do not provide enough cheap capacity to make the IPLPF smoothing affordable. The currently-available RedOx and EDLC technologies do not harmonize with the IPLPF smoothing demands. Actually, the IPLPF might well work with a flywheel (FESS) : 1) The maximum relative power of the FESS covers the IPLPF smoothing demands with a margin. 2) It is expected that the specific cost per kWh of FESS is less than that of SC. 3) Flywheels already regulate frequency in the grid, operating under similar conditions like in the IPLPF smoothing of PV power. (Because of unknown prices and life cycle data, we calculated neither CapExp, nor OpExp of FESS in a role of IPLPF storage.) The high relative power and significant stored energy identify flywheels as a candidate accumulator for IPLPF smoothing.", "title": "Suitable accumulators for IPLPF"}, {"location": "pv_smooth/#summary-of-iplpf", "text": "One year of a continous GI(t) measurement has confirmed that if the PV smoothing performed close to the ideal smoothing IPLPF, it would be affordable with LiFePO4 technology when properly implemented in a hybrid PV system (inclusive measures against micro-cycling of BESS). The flywheel storage provides the high relative power needed by IPLPF. The low accumulated energy achieved by IPLPF should motivate the further development of technologies among which the high-power accumulation of energy, accurate nowcasting of PV power, and the smart filtering of intermitent power are key.", "title": "Summary of IPLPF"}, {"location": "pv_smooth/#real-smoothing-plpf-splpf", "text": "Now, the objective is to analyze the smoothing effect vs accumulation rate (in summary: performance) of PV smoothing under real conditions. The measured global irradiance signal GI(t) allows not only the simulation of ideal predictive low-pass smoothing (IPLPF), but also a predictive smoothing of PV power (PLPF) having a low-pass filter excited by a real-predicted signal GI f (t+\u0394t). The values GI f are biased by a prediction error. The numeric results will show that this error induces a significant energy accumulated by the PLPF smoothing. We simulated the prediction error into the measured GI values in order to statistically represent the predicted signal GI f (t+\u0394t) and to have a possibility to adjust the prediction error. Thus, the measured GI(t) signal allowed us to analyze the impact of prediction error on the smoothing of PV power. In addition to PLPF, we have developed a \u201csmart predictive\" low-pass smoothing method SPLPF (patent pending) , minimizing the accumulated energy \\eqref{eq:4}, \\eqref{eq:5} with respect to the given ramping limit and real-predicted values GI f . We eventually analyzed the performance of these smoothing methods: LPF: Input of LPF excited by the measured signal GI(t) IPLPF: Input of LPF excited by the measured, optimally left-shifted signal GI(t+\u0394t) PLPF: Input of LPF excited by the simulated-predicted signal GI f (t+\u0394t) SPLPF: Smart power filter excited by the simulated-predicted signal GI f .", "title": "Real smoothing (PLPF, SPLPF)"}, {"location": "pv_smooth/#olap-analysis", "text": "The objective is to analyze the accumulation rate along partial dimensions (a few independent quantitative or categorical variables) for a given smoothing effect resulting from the allowed ramping of the filtered power. Let us define the reference smoothing by the output of a 3rd-order Butterworth filter with cut-off frequency = 7.5/12h (\u0394t = 30 minutes). We aggregated the accumulation rate into an OLAP cube by the following dimensions: smoothing method LPF order smooth_int (prediction error) SE (prediction error) First of all, the same smoothing effect has to be fixed to various LPF used: Low-pass filters of orders 1 to 4 are tuned to output the equal ramping, provided that each filter is excited by the measured, optimally shifted signal GI(t+\u0394t). With such a tuning, increasing of the LPF order increases its cut-off frequency but only slightly increases the advance \u0394t. The next goal is to identify the LPF order accumulating a minimum of energy, given the smoothing method and ramping limit. It was found out that the optimal LPF order for SPLPF is also valid for the IPLPF smoothing method. (This is irrelevant for the remaining 2 methods since they accumulate much more energy than IPLPF and SPLPF.) After determining the optimal LPF order, the performance of smoothing methods PLPF and SPLPF was analyzed by a variable prediction error. The numerical results are displayed in tables and graphs, and these are literally explained.", "title": "OLAP analysis"}, {"location": "pv_smooth/#simulation-of-predicted-pv-power", "text": "The group delay of LPF is a physical function of the LPF order and its cut-off frequency. But given the ramping limit, it changes only slightly for any relevant combination of the two variables. Hence \u0394t technically represents the smoothing effect of LPF. The impact of prediction error on GI f values is aggregated at the \"future\" time t+\u0394t. The predicted signal GI f (t+\u0394t) is derived from the measured, left-shifted signal GI(t+\u0394t) by smoothing its \"future\" time course and by superimposing a random error on it, with respect to the fundamental properties of PV predictors: as the advance \u0394t increases, the (unwanted) smoothing of the predicted signal GI f strengthens as the advance \u0394t increases, the impact of random error on GI f increases (statistically cumulates) We specify the prediction error by 2 OLAP dimensions: Interval of prediction, after passing of which the smoothing impact on the predicted signal is strengthened, is defined by the parameter smooth_int [minute]. The shorter this interval, the steeper the smoothing effect rises towards predicted future. Standard deviation of the random prediction error SE (a dimensionless parameter). A random value is superimposed onto each \"future\" GI value. This error is re-generated after passing each 6-minute interval of prediction. The impact of random error on GI f (t+\u0394t) is statistically cumulated over interval \u0394t (obviously greater than 6 minutes). In this report, we simulate the GI f predictors with two different accuracies: \u201cBetter prediction accuracy\u201d: smooth_int = 6 minutes, SE = 0.05 \"Worse prediction accuracy\": smooth_int = 3 minutets, SE = 0.1.", "title": "Simulation of predicted PV power"}, {"location": "pv_smooth/#impact-of-prediction-error", "text": "The quality and accumulation rate of power smoothing exhibit following dependencies on partial dimensions expressing the prediction error (see Figures 2, 6): Smoothed predicted signal Changing of smooth_int affects the smoothing effect neither of SPLPF nor PLPF method, while for all values, PLPF performs smoother than SPLPF (Figures 3, 4, 7, 8). Lowering of smooth_int dramatically increases the accumulation rate of PLPF, which is always much greater than the accumulation rate of SPLPF (Figures 5, 9). With \"worse prediction accuracy\", the PLPF method even exceeds the accumulation rate induced by the LPF method (Figure 9). In SPLPF, the accumulation rate increases only slightly and much more slowly than in PLPF. Random error in predicted values Increasing of SE has no impact on the smoothing effect of PLPF, but it does degrade the smoothing of SPLPF (check Figure 7 vs Figure 8). In PLPF, the smoothing effect with a standard error SE > 0 is always better than in SPLPF. Increasing of SE significantly increases the accumulation rate of PLPF (Figures 5, 9), which is for all values SE > 0 much higher than the accumulation rate of SPLPF. For some SE values, the PLPF method even exceeds the LPF method in its accumulation rate. The accumulation rate increases only slightly in SPLPF, and less so the higher the filter order (up to 3).", "title": "Impact of prediction error"}, {"location": "pv_smooth/#analysis-by-lpf-order", "text": "Filter order is another OLAP dimension whose impact on the smoothing performance was analyzed along with the prediction error. We analyzed the LPF orders 1 to 4 (Figures 10-21): Filter order does not affect the smoothing effect of PLPF method, given a non-zero prediction error. For small filter orders, the output of PLPF is smoother than that of SPLPF. Increasing the filter order from 1 to 3 notably improves the smoothing effect of SPLPF, given a non-zero prediction error (Figures 10-12, 16-18). Given the prediction error, increasing of the filter order only slightly reduces the accumulation rate of PLPF, and this is always substantially greater than the accumulation rate of SPLPF. Increasing of the filter order notably reduces the accumulation rate induced by both IPLPF (zero prediction error) and SPLPF (non-zero prediction error) smoothing methods - see Figures 13-15, 19-21. With the simulated predictor, this trend is reversed between the orders 3 and 4 by the SPLPF method. With the simulated predictor, SPLPF performs best with the filter order 3.", "title": "Analysis by LPF order"}, {"location": "pv_smooth/#numerical-results-of-smoothing", "text": "Presented results are based on the measured GI data on days exhibiting a strong solar intermittency and a moderate to strong insolation.", "title": "Numerical results of smoothing"}, {"location": "pv_smooth/#accumulation-rate-by-method", "text": "Specific accumulation rate per date and smoothing method, using the reference filter: Table 2: Date 2022-03-04 medium insolation, strong intermittency Table 3: Date 2022-04-04 high insolation, strong intermittency Maximum specific power from/to ESS calculated by \\eqref{eq:6} is in the column \"GI ESS \". A difference between the maximum and minimum specific accumulated energy calculated by \\eqref{eq:4} is in the column \"\u0394GX\". Daily flow of the specific energy through ESS calculated by \\eqref{eq:5} is in the column \"Throughput\". Daily insolation at the plane of incidence is displayed as \"Global exposure\". With \"better prediction accuracy\" during the selected days, the SPLPF smoothing required a relative ESS power between 5.5h -1 - 7.2h -1 which is 3.8 - 4.8 times more then by the LPF smoothing, 2.4 - 4.2 times more than by PLPF, and eventually 84% - 99% of the IPLPF power request. The SPLPF smoothing required 21% - 22% of the ESS capacity used by the LPF method, or 24% - 41% of the capacity used by PLPF. The SPLPF eventually required 1.0 - 1.2 times the ESS capacity used by IPLPF. The SPLPF smoothing put 58% - 73% of the energy through ESS relative to the LPF method, or 75% - 83% of the energy throughput by PLPF. SPLPF eventually put 1.0 - 1.1 times more energy through ESS than the IPLPF method. With \"worse prediction accuracy\" during the selected days, the SPLPF smoothing required a relative ESS power between 3.8h -1 - 6.3h -1 which is 2.6 - 4.2 times more then by the LPF smoothing, 3.6 - 5.1 times more than by PLPF, and eventually 58% - 86% of the IPLPF power request. The SPLPF smoothing required 24% - 33% of the ESS capacity used by the LPF method, or 19% - 28% of the capacity used by PLPF. The SPLPF eventually required 1.2 - 1.8 times the ESS capacity used by IPLPF. The SPLPF smoothing put 59% - 77% of the energy through ESS relative to the LPF method, or 63% - 69% of the energy throughput by PLPF. SPLPF eventually put 1.0 - 1.1 times more energy through ESS than the IPLPF method.", "title": "Accumulation rate by method"}, {"location": "pv_smooth/#splpf-vs-iplpf", "text": "Although we did not analyze the whole year (the numerical simulation of SPLPF is computationally intensive), our analysis of 4 smoothing methods on the selected days with high solar intermittency and various solar exposures, with 4 filter orders, and with a varrying prediction error provides a detailed insight into the SPLPF performance. This smoothing method performs much better than PLPF. With a relatively small prediction error, SPLPF performs close to the ideal smoothing IPLPF. The presented empirical results have been theoretically justified (part of the patent application).", "title": "SPLPF vs IPLPF"}, {"location": "pv_smooth/#graphical-display-of-smoothing", "text": "The following graphs show the smoothing effect and accumulated energy depending on the smoothing method and other OLAP dimensions. The measured data on 2 selected days have been processed into the following time series: Measured GI(t), synchronized with predicted GI f (1 hour zoomed) - Figures 2, 6 Measured GI(t) and its smooth counterpart by the prediction accuracy, comparing all smoothing methods, having optimal LPF order applied - Figures 3, 4, 7, 8 Accumulated GX(t) by the prediction accuracy, comparing all smoothing methods, having optimal LPF order applied - Figures 5, 9 Smoothed GI(t) by the filter order and prediction accuracy, comparing IPLPF and SPLPF smoothing methods - Figures 10-12, 16-18 Accumulated GX(t) by the filter order and prediction accuracy, comparing IPLPF and SPLPF smoothing methods - Figures 13-15, 19-21", "title": "Graphical display of smoothing"}, {"location": "pv_smooth/#analysis-by-prediction-error", "text": "", "title": "Analysis by prediction error"}, {"location": "pv_smooth/#a-day-with-medium-insolation", "text": "Figure 2: Measured GI synchronized with GIf (predicted 30 minutes ago) between 11:00 and 12:00. (Lo Err: better prediction accuracy, Hi Err: worse prediction accuracy) Figure 3: Measured and smoothed GI by 4 different methods; better prediction accuracy Figure 4: Measured and smoothed GI by 4 smoothing methods; worse prediction accuracy Figure 5: Time course of GX accumulated by 4 smoothing methods. (Lo Err: better prediction accuracy, Hi Err: worse prediction accuracy)", "title": "A day with medium insolation"}, {"location": "pv_smooth/#a-day-with-high-insolation", "text": "Figure 6: Measured GI synchronized with GIf (predicted 30 minutes ago) between 11:00 and 12:00. (Lo Err: better prediction accuracy, Hi Err: worse prediction accuracy) Figure 7: Measured and smoothed GI by 4 smoothing methods; better prediction accuracy Figure 8: Measured and smoothed GI by 4 smoothing methods; worse prediction accuracy Figure 9: Time course of GX accumulated by 4 smoothing methods. (Lo Err: better prediction accuracy, Hi Err: worse prediction accuracy)", "title": "A day with high insolation"}, {"location": "pv_smooth/#analysis-by-lpf-order_1", "text": "Following graphs compare the smoothing by IPLPF vs SPLPF method:", "title": "Analysis by LPF order"}, {"location": "pv_smooth/#a-day-with-medium-insolation_1", "text": "Figure 10: Time course of IPLPF-smoothed GI exhibits similar ramping for each filter order Figure 11: Time course of SPLPF-smoothed GI by filter order; better prediction accuracy Figure 12: Time course of SPLPF-smoothed GI by filter order; worse prediction accuracy Figure 13: Time course of IPLPF-accumulated GX by filter order Figure 14: Time course of SPLPF-accumulated GX by filter order; better prediction accuracy Figure 15: Time course of SPLPF-accumulated GX by filter order; worse prediction accuracy .", "title": "A day with medium insolation"}, {"location": "pv_smooth/#a-day-with-high-insolation_1", "text": "Figure 16: Time course of IPLPF-smoothed GI shows its similar ramping for each filter order Figure 17: Time course of SPLPF-smoothed GI by filter order; better prediction accuracy Figure 18: Time course of SPLPF-smoothed GI by filter order; worse prediction accuracy Figure 19 Time course of IPLPF-accumulated GX by filter order) Figure 20: Time course of SPLPF-accumulated GX by filter order; better prediction accuracy Figure 21: Time course of SPLPF-accumulated GX by filter order; worse prediction accuracy", "title": "A day with high insolation"}, {"location": "v_glossary/", "text": "List of acronyms AC/DC = AC to DC power conversion A/D = analog to digital data conversion AI = artificial intelligence BESS = battery energy storage system CapEx = capital expenditures for PV smoothing [\\$/kW] DC/AC = DC to AC power conversion (inversion) dHI = diffused horizontal irradiance [W/m 2 ] DHI = direct horizontal irradiance [W/m 2 ] DNI = direct normal irradiance [W/m 2 ] EDLC = electric double layer capacitor (supercapacitor) ESS = energy storage system (unspecified technology) FESS = flywheel energy storage system GHI = global horizontal irradiance [W/m 2 ] GI = global irradiance [W/m 2 ] (unspecified plane of incidence) GIf = forecasted future global irradiance [W/m 2 ] GNI = global normal irradiance [W/m 2 ] GX = specific accumulated energy by filter (GI-corresponding) [Wh/m 2 ] IPLPF = ideal predictive low-pass filter LPF = low-pass filter MPPT = maximum power point tracking OLAP = online analytical processing (of pre-aggregated data) OpEx = operational expenditures for PV smoothing [\\$/kW/year] PLPF = predictive low-pass filter PV = photovoltaic PVPP = photovoltaic power plant RedOx = Reduction-Oxidation accumulation technology RES = Renewable Energy Source SC = supercapacitor SE = standard error SOC = state of charge [Wh] SPLPF = smart predictive low-pass filter \u0394t = advance time interval [minute] of prediced power V-I characteristic = voltage current dependency", "title": "Glossary"}, {"location": "v_glossary/#list-of-acronyms", "text": "AC/DC = AC to DC power conversion A/D = analog to digital data conversion AI = artificial intelligence BESS = battery energy storage system CapEx = capital expenditures for PV smoothing [\\$/kW] DC/AC = DC to AC power conversion (inversion) dHI = diffused horizontal irradiance [W/m 2 ] DHI = direct horizontal irradiance [W/m 2 ] DNI = direct normal irradiance [W/m 2 ] EDLC = electric double layer capacitor (supercapacitor) ESS = energy storage system (unspecified technology) FESS = flywheel energy storage system GHI = global horizontal irradiance [W/m 2 ] GI = global irradiance [W/m 2 ] (unspecified plane of incidence) GIf = forecasted future global irradiance [W/m 2 ] GNI = global normal irradiance [W/m 2 ] GX = specific accumulated energy by filter (GI-corresponding) [Wh/m 2 ] IPLPF = ideal predictive low-pass filter LPF = low-pass filter MPPT = maximum power point tracking OLAP = online analytical processing (of pre-aggregated data) OpEx = operational expenditures for PV smoothing [\\$/kW/year] PLPF = predictive low-pass filter PV = photovoltaic PVPP = photovoltaic power plant RedOx = Reduction-Oxidation accumulation technology RES = Renewable Energy Source SC = supercapacitor SE = standard error SOC = state of charge [Wh] SPLPF = smart predictive low-pass filter \u0394t = advance time interval [minute] of prediced power V-I characteristic = voltage current dependency", "title": "List of acronyms"}]}